# 2. 테스트 방법과 테스트 전략

> 웹 어플리케이션은 여러 모듈을 조합해 만든다. 한가지 기능을 구현할때도 라이브러리 제공 함수, 로직 담당 함수, UI 과련 함수, API 서버, DB 서버 등 다양한 모듈을 활용하게된다. 이때 어디서부터 어디까지가 프론트엔드가 커버하는 테스트인지 주의해야한다.

## 테스트 범위와 목적

- **프론트엔드 테스트 범위**

  1. **정적 분석(Static Analysis)**: 타입스크립트를 활용. 타입추론. ESLint
  2. **단위 테스트(Unit Test)**: 컴포넌트가 제대로 동작하는지, 특정 입력값을 받아 기대하는 출력값을 반환하는지 테스트. 엣지케이스도 테스트한다.
  3. **통합 테스트(Integration Test)**: 여러 모듈을 연동한 기능을 테스트한다. 커다란 UI 컴포넌트의 인터랙션을 엣지케이스를 포함해서 확인한다.
  4. **E2E 테스트(End to End Test)**: UI 테스트 뿐만 아니라 외부 스토리지와 같이 연동중인 하위 시스템을 포함해서 테스트한다. 입력 내용에 따라 저장된 값이 갱신되기 때문에 UI는 물론 연동된 외부 기능이 정상적으로 작동하는지 검증할 수 있다.

- **프론트엔드 테스트 타입**
  1. **기능 테스트 (인터렉션 테스트):** 개발된 기능에 문제가 없는지 검증하는 테스트
  2. **비기능 테스트 (접근성 테스트):** accessibility
  3. **회귀 테스트:** 특정 시점을 기준으로 전후 차이를 비교하여 문제가 있는지 검증하는 테스트 - storybook

## 테스트 전략 모델

- 테스트 피라미드 모델
  - 수동 테스트
  - —E2E 테스트—
  - ——통합 테스트——
  - ————단위 테스트————
    → 하층부 테스트의 비중이 높을수록 더욱 안정적이고 가성비 높은 테스트가 가능하다.
- 테스팅 트로피 모델
  - 통합 테스트의 비중이 가장 높음

## 테스트 전략 계획

- 테스트가 없어 리팩터링이 불안한 경우
  - 먼저 릴리즈된 기능을 목록으로 테스트를 정리하고 리팩터링을 진행할때 목서버를 활용해 통합테스트를 함께 진행한다.
- 반응형으로 제작된 프로젝트
  - 반응형처럼 디바이스간 서로 다른 스타일을 제공하는 경우, CSS가 적용된 렌더링 결과를 검증할 브라우저 테스트가 필요하다. 이런 상황에서 실시하는 테스트가 브라우저를 사용한 시각적 회귀 테스트이다. (스토리북)
- 데이터베이스를 포함한 E2E 테스트가 필요한 경우
  - 목 서버가 아닌 실제 웹 API 서버를 사용해서 E2E테스트를 하고 싶아면 테스트용 스테이징 환경을 사용해야 한다.
  - 혹은 테스트할 시스템을 컨테이너화해 CI 환경에서 실행 한 후 연동 중인 여러 시스템과 함께 테스트할 수 있다.
